FROM python:3.10-slim

# Install core dependencies and optional extras
WORKDIR /app
COPY requirements-core.txt requirements.txt ./
RUN pip install --no-cache-dir -r requirements-core.txt \
    && pip install --no-cache-dir -r requirements.txt
COPY . .

# Default resource tier inside the container
ENV RESOURCE_TIER=cpu

CMD ["bash"]
