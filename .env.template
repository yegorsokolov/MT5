# MT5 environment template.
# Copy keys from this file into `.env` and supply your secrets.
# Blank assignments indicate values that must be provided for the relevant integration.
# The deployment process creates an empty `.env`; populate it using this guide.

# --- Secret Manager references (used by config.yaml via secret://) ---
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
# MLflow credentials are generated automatically by
# ``python -m deployment.mlflow_credentials`` and stored in your chosen env
# file. Run the helper after provisioning an authenticated tracking server to
# mint service account credentials.

# Secrets for the configuration service, local controller and encrypted
# artifacts are generated automatically by deployment/runtime_secrets.py. The
# helper writes deploy/secrets/runtime.env which systemd loads via
# EnvironmentFile.

# --- Local bot controller (replaces remote API secrets & tuning) ---
# Soft limit for resident memory in megabytes before the resource monitor
# triggers a graceful restart. Set to roughly 80% of available RAM; use 0 to
# disable the guard entirely.
MAX_RSS_MB=6144
# Aggregate CPU budget across all cores. 320 â‰ˆ 80% of a 4 vCPU instance. Use 0
# to disable CPU throttling and rely on external scheduling.
MAX_CPU_PCT=320
# Systemd provides WATCHDOG_USEC automatically when WatchdogSec is configured.
# Override only when running outside systemd to trigger sd_notify heartbeats in
# microseconds.
WATCHDOG_USEC=0
# Exponential backoff (in seconds) applied between bot restarts after crashes.
BOT_BACKOFF_BASE=1
BOT_BACKOFF_MAX=60
# Seconds without crashes before the backoff window is reset.
BOT_BACKOFF_RESET=300
# Maximum number of crashes tolerated within BOT_CRASH_WINDOW before the
# orchestrator halts automatic restarts.
BOT_MAX_CRASHES=5
# Rolling window (seconds) used to evaluate BOT_MAX_CRASHES. Keep in sync with
# your incident response expectations.
BOT_CRASH_WINDOW=600

# Encryption keys (CHECKPOINT_AES_KEY/DECISION_AES_KEY) are minted by
# deployment/runtime_secrets.py and stored alongside controller secrets.

# --- External data provider API tokens ---
FRED_API_KEY=
FINNHUB_API_KEY=
ALPHAVANTAGE_API_KEY=
EODHD_API_TOKEN=
FINANCIALMODELINGPREP_API_KEY=

# --- LLM-assisted tooling ---
OPENAI_API_KEY=

# --- Secret manager backends ---
# Optional HashiCorp Vault address for resolving secret:// references. Provide
# the full HTTPS URL to the Vault cluster or leave blank to rely solely on
# environment variables.
VAULT_ADDR=
# Token with read access to the KV v2 mount that stores MT5 secrets. When
# omitted, SecretManager skips Vault lookups.
VAULT_TOKEN=

# --- Observability & automation ---
# InfluxDB credentials are generated automatically by deployment/influx_bootstrap.py
# and stored in deploy/secrets/influx.env for systemd to read.
# Prometheus Pushgateway endpoint used by analytics jobs to emit one-off metrics
# (e.g. http://pushgateway:9091). Leave blank to disable push-style metrics.
PROM_PUSH_URL=
# Prometheus HTTP API endpoint used by diagnostics to verify alert rules. Set
# to the base URL (e.g. http://prometheus:9090) when automated health checks
# should run.
PROM_QUERY_URL=
# GitHub personal access token or app installation token used by the
# auto-updater to fetch private dependencies. Needs at least ``repo`` scope for
# private repositories.
GITHUB_TOKEN=


# Add any other environment overrides required by your deployment below.
